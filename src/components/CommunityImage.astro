---
const { name, blue, orange, left, right } = Astro.props
const title = name.charAt(0).toUpperCase() + name.slice(1).replace(/_/g, ' ');
---

<div
  class:list={[
    'relative mb-6 max-w-[538px] rounded-lg',
    'after:absolute after:-bottom-6 after:-z-10 after:h-[66px] after:w-[77px] after:rounded-lg after:opacity-50 after:content-[\'\']',
    {
      'pl-6 after:-left-[1px]': left,
      'pr-6 after:-right-[1px]': right,
      'after:bg-active-light': orange,
      'after:bg-secondary-light': blue,
    },
    'picture',
  ]}
>
  <picture>
    <source srcset={`/${name}.webp`} type="image/webp" />
    <source srcset={`/${name}.png`} type="image/png" />
    <img
      {title}
      alt={title}
      src={`/${name}.png`}
      class="[object-fit:cover] rounded-lg aspect-video"
    />
  </picture>
</div>

<script>
import gsap from 'gsap'
import { ScrollTrigger } from 'gsap/all'

gsap.registerPlugin(ScrollTrigger)

gsap.fromTo(
  '.picture',
  {
    opacity: 0,
    scale: 0.65,
    rotate: '15deg',
    transform: 'translateZ(-50px)',
  },
  {
    opacity: 1,
    transform: 'none',
    duration: 2,
    scrollTrigger: {
      trigger: '.picture',
      toggleActions: 'restart none none none',
    },
  },
)
</script>
